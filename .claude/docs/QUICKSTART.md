# AI Factory クイックスタートガイド

このガイドでは、AI Factory の基本的な使い方を説明します。

## 目次

- [推奨ワークフロー](#推奨ワークフロー)
- [実例: Task Tracker アプリの開発](#実例-task-tracker-アプリの開発)
- [コマンド早見表](#コマンド早見表)

---

## 推奨ワークフロー

AI Factory は **2ステップ** でプロジェクトを完成させます:

```
┌─────────────────────────────────────────────────────────────────┐
│  STEP 1: /prepare                                               │
│  ┌─────────────┐    ┌─────────┐    ┌───────────────┐           │
│  │ ヒアリング   │───▶│ @Critic │───▶│ @Issue_Planner│           │
│  │ @PM         │    │ レビュー │    │ Issue分解     │           │
│  └─────────────┘    └─────────┘    └───────────────┘           │
│       ▲                  │                   │                  │
│       └──────────────────┘                   ▼                  │
│       REQUEST_CHANGES                 GitHub Issues             │
└─────────────────────────────────────────────────────────────────┘
                                               │
                                               ▼
┌─────────────────────────────────────────────────────────────────┐
│  STEP 2: /auto                                                  │
│  ┌─────────┐  ┌─────────┐  ┌───────────┐  ┌─────────┐         │
│  │ @QA     │─▶│ @Coder  │─▶│ @Tech_Lead│─▶│ @Scrum  │         │
│  │ テスト   │  │ 実装    │  │ レビュー   │  │ Master  │         │
│  └─────────┘  └─────────┘  └───────────┘  └─────────┘         │
│       │                                          │              │
│       ▼                                          ▼              │
│  pytest実行                                  PR作成             │
│                                                  │              │
│                      ┌───────────┐               │              │
│                      │ @Validator│◀──────────────┘              │
│                      │ 統合検証   │                              │
│                      └───────────┘                              │
└─────────────────────────────────────────────────────────────────┘
```

### 基本コマンド

```bash
# 1. 企画フェーズ（ヒアリング → 仕様書 → レビュー → Issue作成）
/prepare

# 2. 実装フェーズ（全Issueを自動処理）
/auto

# または、特定のIssueのみ処理
/run 42
```

---

## 実例: Task Tracker アプリの開発

### ステップ1: /prepare でプロジェクト準備

```bash
/prepare
```

**ヒアリングフェーズ（対話あり）:**

```
🤖 Claude: こんにちは！何を作りたいですか？

👤 ユーザー: シンプルなタスク管理CLIアプリを作りたいです。

🤖 Claude: タスク管理CLIアプリですね。要件を明確にするためにいくつか確認させてください。

   【入力仕様】
   タスク追加時のデータはコマンドライン引数で受け取りますか？

👤 ユーザー: はい、`task add "買い物に行く"` のような形式で。

🤖 Claude: 【出力仕様】
   データの保存形式は JSON / SQLite / インメモリ のどれを希望しますか？

👤 ユーザー: JSONファイルで永続化したいです。

... (他の確認事項) ...

🤖 Claude: 了解しました。要件が明確になりました。

## 要件サマリー
- タスクの追加・一覧・完了・削除
- JSONファイルで永続化
- エラー時はメッセージ表示

この内容で仕様書を作成し、レビュー、Issue分解まで自動実行します。よろしいですか？

👤 ユーザー: はい、お願いします。
```

**自動実行フェーズ（確認なし）:**

```
🤖 Claude: 承認を受けました。自動実行を開始します。

   ✅ @Product_Manager 完了 - docs/specs/spec-task-tracker.md を生成
   ✅ @Critic 完了 - APPROVED
   ✅ @Issue_Planner 完了 - 以下のIssueを作成:

   Issue #1: タスクデータモデルの実装
   Issue #2: JSONストレージの実装
   Issue #3: タスク追加機能 (add コマンド)
   ...

   次のステップ: `/auto` で全Issue自動実装
```

### ステップ2: /auto で全Issue自動処理

```bash
/auto
```

**自動処理の流れ:**

```
🔍 label:todo の未アサインIssueを検索中...
   → Issue #1 を発見

📋 Issue #1: タスクデータモデルの実装
   ├─ 🔒 楽観的ロックでアサイン取得
   ├─ 📁 Worktree作成
   ├─ 🧪 @QA_Engineer: テスト生成
   ├─ 💻 @Coder: 実装
   ├─ ✅ pytest: 全テスト通過
   ├─ 🔍 @Tech_Lead: 静的解析OK
   ├─ 🚀 PR #8 作成
   ├─ 📝 @Scrum_Master: 学びを記録
   └─ 🧹 Worktreeクリーンアップ

   /compact（コンテキスト圧縮）

   /merge
   └─ @Validator: 統合検証 PASSED

   /compact（コンテキスト圧縮）

🔍 次のIssueを検索中...
   → Issue #2 を発見

... (繰り返し)

✅ 全Issue処理完了!
```

---

## コマンド早見表

| コマンド | 説明 | 使用場面 |
|---------|------|---------|
| `/prepare` | 企画フェーズ一気通貫 | 新機能の開発開始時 |
| `/auto` | 全Issue自動処理 | Issue作成後の実装 |
| `/run {id}` | 単一Issue処理 | 特定Issueのみ処理したい時 |
| `/merge [pr]` | PRマージ + 統合検証 | PR作成後のマージ |
| `/kaizen {id}` | 学びの記録 | 開発から得た知見を記録 |

---

## Tips

### 良いプロンプトの書き方

**良い例:**
```
タスク管理CLIアプリを作りたいです。

要件:
- タスクの追加・一覧・完了・削除
- JSONファイルで永続化
- Python 3.12、型ヒント必須
```

**悪い例:**
```
タスク管理アプリ作って
```

### デバッグ

```bash
# 処理中のIssueを確認
gh issue list --assignee @me

# 失敗したIssueを確認
gh issue list --label failed

# Worktreeの状態を確認
git worktree list
```

---

## 次のステップ

- [COMMANDS.md](COMMANDS.md) - 5個のコマンドの完全リファレンス
- [AGENTS.md](AGENTS.md) - 8つのAIエージェントの詳細
- [WORKFLOW.md](WORKFLOW.md) - ワークフローの内部動作
